---
import Layout from '../layouts/Layout.astro';
import { APP_CONFIG } from '../constants';
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const basePath = APP_CONFIG.basePath || '';
const langPath = lang === 'en' ? '' : `/${lang}`;
---

<Layout title={`404 - ${t('notFound.title')}`} showSidebar={false} compactFooter={true} lang={lang}>
  <div class="flex items-center justify-center px-4 py-8" style="min-height: calc(100vh - 64px - 120px);">
    <div class="text-center max-w-2xl mx-auto">
      <!-- Animated 404 Icon -->
      <div class="relative mb-6">
        <div class="w-32 h-32 sm:w-40 sm:h-40 mx-auto relative">
          <!-- Glowing background -->
          <div class="absolute inset-0 bg-gradient-to-br from-primary-500/20 to-primary-600/20 rounded-full blur-2xl animate-pulse"></div>

          <!-- Main icon container -->
          <div class="relative w-full h-full bg-gradient-to-br from-primary-500 to-primary-700 rounded-3xl flex items-center justify-center shadow-2xl shadow-primary-500/30 transform hover:scale-105 transition-transform duration-300">
            <!-- Kubernetes-style hexagon pattern -->
            <svg class="absolute inset-0 w-full h-full opacity-10" viewBox="0 0 100 100">
              <pattern id="hex" width="20" height="17.32" patternUnits="userSpaceOnUse">
                <polygon points="10,0 20,5.77 20,17.32 10,23.09 0,17.32 0,5.77" fill="none" stroke="white" stroke-width="0.5"/>
              </pattern>
              <rect width="100" height="100" fill="url(#hex)"/>
            </svg>

            <!-- 404 Text -->
            <span class="text-5xl font-bold text-white drop-shadow-lg">404</span>
          </div>
        </div>

        <!-- Floating particles -->
        <div class="absolute top-0 left-1/4 w-3 h-3 bg-primary-400 rounded-full animate-bounce opacity-60" style="animation-delay: 0.1s;"></div>
        <div class="absolute top-1/4 right-1/4 w-2 h-2 bg-primary-500 rounded-full animate-bounce opacity-40" style="animation-delay: 0.3s;"></div>
        <div class="absolute bottom-1/4 left-1/3 w-2 h-2 bg-primary-300 rounded-full animate-bounce opacity-50" style="animation-delay: 0.5s;"></div>
      </div>

      <!-- Message -->
      <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-neutral-900 dark:text-white mb-3">
        {t('notFound.title')}
      </h1>

      <p class="text-base text-neutral-600 dark:text-neutral-400 mb-6 max-w-md mx-auto">
        {t('notFound.description')}
      </p>

      <!-- Action Buttons -->
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <a
          href={`${basePath}${langPath}/`}
          class="group inline-flex items-center gap-2 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-xl shadow-lg shadow-primary-600/30 hover:shadow-xl hover:shadow-primary-600/40 transition-all duration-300 hover:scale-105"
        >
          <svg class="w-5 h-5 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
          </svg>
          {t('notFound.goHome')}
        </a>

        <a
          href={`${basePath}${langPath}/#certifications`}
          class="group inline-flex items-center gap-2 px-6 py-3 bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 text-neutral-700 dark:text-neutral-300 font-medium rounded-xl border border-neutral-200 dark:border-neutral-700 transition-all duration-300 hover:scale-105"
        >
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"/>
          </svg>
          {t('notFound.viewCertifications')}
        </a>
      </div>

      <!-- Helpful Links -->
      <div class="mt-8 pt-6 border-t border-neutral-200 dark:border-neutral-700">
        <p class="text-xs text-neutral-500 dark:text-neutral-500 mb-3">{t('notFound.quickLinks')}</p>
        <div class="flex flex-wrap justify-center gap-3 text-base">
          <a href={`${basePath}${langPath}/achievements/kubestronaut`} class="text-primary-600 dark:text-primary-400 hover:underline">
            Kubestronaut
          </a>
          <span class="text-neutral-300 dark:text-neutral-600">|</span>
          <a href={`${basePath}${langPath}/achievements/golden-kubestronaut`} class="text-primary-600 dark:text-primary-400 hover:underline">
            Golden Kubestronaut
          </a>
        </div>
      </div>
    </div>
  </div>
</Layout>
